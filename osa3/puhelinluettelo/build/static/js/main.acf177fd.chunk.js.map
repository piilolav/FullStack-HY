{"version":3,"sources":["components/Content.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Name","name","deletePerson","number","onClick","id","Content","persons","allPersons","length","map","i","Filter","value","onChange","PersonForm","onSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","getAll","a","request","axios","get","response","data","create","newObject","post","update","put","remove","delete","exportedObject","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","newFilter","setFilter","filterPersons","setFilteredPerson","newMessage","setNewMessage","useEffect","console","log","PersonService","then","initialNotes","event","target","regex","RegExp","filter","person","match","preventDefault","some","el","window","confirm","updatedPerson","personId","personObject","returnedPerson","catch","error","setTimeout","concat","erasedPerson","personName","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.acf177fd.chunk.js","sourcesContent":["import React from 'react'\n\nconst Name =({name, deletePerson}) =>{\n  return (\n  <p> {name.name} {name.number} <button onClick={()=>deletePerson(name.id)}>delete</button></p>\n  )\n}\n\nconst Content =({persons,allPersons, deletePerson}) =>{\n  \n  if (persons.length >0){\n    return(\n    <ul>\n      {persons.map((name,i) =>\n        <Name key={i} name={name} deletePerson={deletePerson}/>\n      )}\n    </ul>\n  )\n}\nelse {\n  return(\n    <ul>\n      {allPersons.map((name, i) =>\n        <Name key={i} name={name} deletePerson={deletePerson}/>\n      )}\n    </ul>\n  )\n}\n}\n\nexport default Content","import React from 'react'\n\nconst Filter =({value, onChange})=>{\n  return (  \n    <div>\n    filter shown with <input value={value} onChange={onChange}/> \n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm =({onSubmit, newName, handleNameChange, newNumber, handleNumberChange}) =>{\n  return(\n    <form onSubmit ={onSubmit} >\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n\n      </form>\n\n  )}\n\n      \n\nexport default PersonForm","import axios from \"axios\"\n//const baseUrl ='http://localhost:3001/api/persons'\nconst baseUrl ='/api/persons'\n\nconst getAll=async ()=>{\n  const request = axios.get(baseUrl)\n  const response = await request\n  return response.data\n}\n\nconst create =async newObject =>{\n  const request= axios.post(baseUrl, newObject)\n  const response = await request\n  return response.data\n}\n\n//Tehdään valmiiksi put -pyyntöä varten \nconst update = async (id, newObject) =>{\n  const request= axios.put(`${baseUrl}/${id}`, newObject)\n  const response = await request\n  return response.data\n}\n\nconst remove = async id =>{\n  const request =axios.delete(`${baseUrl}/${id}`)\n  const response = await request\n  return response.data\n}\n\nconst exportedObject ={\n  getAll,\n  create,\n  update, \n  remove\n}\n\nexport default exportedObject\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"notification\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useEffect, useState } from 'react'\nimport Content from './components/Content'\nimport Filter from './components/Filter'\nimport  PersonForm from './components/PersonForm'\nimport  PersonService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\n\n// const Exists =({name}, {list}) =>{\n//   if (list.findIndex({name}) ==-1) {\n//     alert(`${name} is already added to phonebook`)\n//     return false}\n//   else {\n//     return true}\n//   }\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber]=useState('')\n  const [newFilter, setFilter]=useState('')\n  const [filterPersons, setFilteredPerson] =useState([])\n  const [newMessage, setNewMessage] =useState(null)\n\n\n/*   const hook =() =>{\n    console.log('effect')\n    axios\n      .get('http://localhost:3001/persons')\n      .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response.data)\n      })\n  }\n   \n  useEffect(hook, [])     */\n\n  useEffect(()=>{\n    console.log('effect')\n    PersonService\n      .getAll()\n      .then(initialNotes => {\n        console.log('promise fulfilled')\n        setPersons(initialNotes)\n    })\n    \n  }, [])\n  console.log('render', persons.length, 'persons')\n  \n\n  function nameExists(name){\n    return persons.some(function(el){\n      return el.name===name\n    })\n  }\n    const AddPerson =(event) =>{\n      event.preventDefault()\n\n      if (nameExists(newName)){\n//        console.log(newName, \" sekä \" , nameExists(newName))\n//        alert(`${newName} is already added to phonebook`)\n//        setNewName('')\n          if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n            const updatedPerson = persons.filter(person => person.name ===newName)\n            const personId =updatedPerson[0].id\n            \n            const personObject ={ ...updatedPerson[0], number: newNumber }\n                      \n            PersonService\n                .update(personId, personObject)\n                .then(returnedPerson =>{\n                  setPersons(persons.map(person => person.id !==personId ? person :returnedPerson))\n                })\n                .catch(error=>{\n                  setNewMessage(\n                    `The person ${updatedPerson[0].name} was already deleted from the server`\n                  )\n                  setTimeout(()=>{\n                    setNewMessage(null)\n                  },5000)\n                })\n                setNewName('')\n                setNewNumber('')\n                setNewMessage(`${updatedPerson[0].name} phonenumber was changed.`)\n                setTimeout(()=>{\n                  setNewMessage(null)\n                },3000)\n          }\n          else{\n            console.log(`${newName}'s contact information was not changed.`)\n          }\n\n      }\n      else{\n        const personObject ={\n         name: newName,\n         number: newNumber\n         \n        }\n        console.log(personObject.name, \" added to Phonebook\")\n        PersonService\n          .create(personObject)\n         \n          .then(returnedPerson =>{\n            setPersons(persons.concat(returnedPerson))\n            setNewName('')\n            setNewNumber('')\n          })\n          setNewMessage(\n            `${personObject.name} was added to phonebook`\n          )\n          setTimeout(()=>{\n            setNewMessage(null)\n          },3000)\n    }\n    }\n\n    const deletePerson = (id) =>{\n      const erasedPerson =persons.filter(person => person.id ===id)\n      const personName = erasedPerson[0].name\n      const personId = erasedPerson[0].id\n\n      console.log(personName, personId)\n\n      //windows confirm palauttaa booleanin\n      if (window.confirm(`Do you want to delete ${personName}?`)){\n        PersonService\n          .remove(personId)\n        console.log(`Person ${personName} removed`)\n        setNewMessage(\n          `${personName} was removed from phonebook`\n        )\n        setTimeout(()=>{\n          setNewMessage(null)\n        },3000)\n        setPersons(persons.filter(person => person.id !== personId))\n      }\n\n      return(\n        true\n      )\n\n    }\n    \nconst handleNameChange =(event) =>{\n//  console.log(event.target.value)\n  setNewName(event.target.value)\n}\n\n\nconst handleNumberChange =(event) =>{\n//  console.log(event.target.value)\n  setNewNumber(event.target.value)\n}\n\nconst handleFilter =(event) =>{\n//  console.log(event.target.value)\n//Hmmm filteri poistaa nyt kaikki vanhat. => Tallennetaan kaikki henkilöt vielä omaansa\n  setFilter(event.target.value)   \n//  setFilter(persons.filter(person => person.name.toLowerCase().includes(event.target.value.toLowerCase())))\n  const regex =new RegExp( newFilter, 'i');\n  const filteredPersons =() => persons.filter(person =>person.name.match(regex))\n  setFilteredPerson(filteredPersons)\n\n}\n// <PersonForm onSubmit={AddPerson} newName={newName} handleNameChange={handleNameChange} handleNumberChange = {handleNumberChange} newNumber={newNumber} />\n// Alla filtteri, joka ei toimi täysin oikein.\n//<Filter value={newFilter} onChange={handleFilter} /> \n  return (\n    <div>\n      <h2>Phonebook </h2>\n      <Notification message={newMessage} />\n      <Filter value={newFilter} onChange={handleFilter} />\n      <h2>Add a new</h2>\n        <PersonForm onSubmit ={AddPerson} newName ={newName} handleNameChange ={handleNameChange} newNumber ={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <ul>\n        <Content persons={filterPersons} allPersons={persons} deletePerson={deletePerson} />\n      </ul>\n      \n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}